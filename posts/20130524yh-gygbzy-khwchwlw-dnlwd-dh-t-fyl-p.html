<!DOCTYPE html><html lang="fa">
<head>
    <meta charset="utf-8">
    <title>یه گیگ‌بازی کوچولو: دانلود ده تا فایل پی‌دی‌اف از «ستاد سلام »</title>
    <!-- Le styles -->
    <link rel="stylesheet" type="text/css" media="screen,projection" href="../assets/css/style.css" title="blog.txt">
    <link rel="stylesheet" type="text/css" media="screen,projection" href="../assets/css/2c-r.css" title="blog.txt">
    <link rel="stylesheet" type="text/css" media="print" href="../assets/css/print.css" title="blog.txt">
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS (fa)" href="../rss.xml">
    
    
</head>
<body dir="rtl">
    <script type="text/javascript">
        var addthis_config = { 'ui_language': 'fa' };
    </script>

<div id="wrapper">
    <div id="container">
        <div id="content">
            <div id="header">
                <h1 id="blog-title">
                    <a href="http://straygeek.github.io" title="نوشته‌های یک گیک"> نوشته‌های یک گیک</a>
                </h1>
		<br><hr>
                
                
            </div>
        <div class="hfeed">
            <!--Body content-->
            
    <div id="post-20130524yh-gygbzy-khwchwlw-dnlwd-dh-t-fyl-p" class="post">
        <h2 class="entry-title"><a href="#">یه گیگ‌بازی کوچولو: دانلود ده تا فایل پی‌دی‌اف از «ستاد سلام »</a></h2>
        <div class="entry-content thepost">
            <p></p><p>دیروز، کسی از گوگل پلاس، که یادم نیست کی بود، <a href="../paper-tools/trakt-nevisi">این لینک رو از ستاد سلام</a> شیر کرده بود. درمورد چیزایی مثل حقوق زنان هست. می‌خواستم تمام فایل‌های پی‌دی‌اف رو دانلود بکنم، ولی در شأن یه گیک نیست که تک به تک بشینه فایل‌ها رو دانلود بکنه ;) پس یکی دو خط کد می‌زنیم.<br>
اول، باید یه فایل اچ‌تی‌ام‌ال از اون صفحه ستاد سلام بگیرم:</p>
<p dir="ltr">wget "<a href="../paper-tools/trakt-nevisi">http://www.setadsalam.net/paper-tools/trakt-nevisi</a>" -O trakt_nevisi.html</p>

<p>حالا، باید لینک‌ها رو از فایل جدا کنیم و بذاریم تو یه فایل دیگه:</p>

<p dir="ltr">cat trakt_nevisi.html | grep -Po 'href="(.*?)\.pdf"' | cut -d\" -f2 | uniq | sed "s|^|<a href="http://www.setadsalam.net">http://www.setadsalam.net</a>|g" | tee URLs</p>

<p>خلاصه این کد اینه که اول با grep و cut آدرس‌ها رو از فایل جدا می‌کنیم، بعد چون هر آدرس یه بار هم تکرار شده، تکراری‌ها رو حذف می‌کنیم و بعد، به خاطر این که اولشون اسلش (/) هست و نه آدرس سایت، آدرس ستاد سلام رو هم به اولش اضافه می‌کنیم. بعدش هم با tee آدرس‌ها رو تو فایل URLs میذاریم.<br>

خوب، حالا فقط دانلودشون مونده:</p>

<p dir="ltr">wget -i URLs</p>

<p>با آپشن ‎-i به wget میفهمونیم که باید آدرس‌ها رو از فایل URLs بگیره.<br>

حالا برای اطمینان، تعداد فایل‌ها رو بررسی می‌کنیم:</p>

<p dir="ltr">‎ $ ls *.pdf | wc -l<br>

‎10</p>

<p>خوب، ده تا کلیک صرفه‌جویی شد ;)</p>

<p>پی‌نوشت: این پست و <a href="../2013/05/23/%D8%AF%D9%88%D8%B1%D9%87-%D8%AC%D8%AF%DB%8C%D8%AF-%D8%AF%D8%B1%D8%B3%D9%86%D8%A7%D9%85%D9%87-%D8%A8%D8%B1%D8%A7%DB%8C-%D8%AE%D9%88%D8%A7%D9%86%D9%86%D8%AF%D9%87%E2%80%8C%D9%87%D8%A7-%D9%88-%D9%BE/">پست قبلی</a> رو با ایمیل به وردپرس فرستادم. واسه همین تا وقتی که بتونم سد فیلترینگ رو رد بکنم، این دو مطلب و شاید مطالب بعدی رو به دسته خاصی نمی‌تونم اضافه بکنم.</p>

<p></p>
        </div>
        <div class="archive-meta">
            ارسال شده: 2013-05-24 06:59:43<span class="meta-sep"><!--|</span>
            <span class="meta-sep">|</span>
            <a href="20130524yh-gygbzy-khwchwlw-dnlwd-dh-t-fyl-p.txt">reSt</a>
            <span class="meta-sep">|</span>-->
                    <a href="../categories/chr-shq-lynwkhs-hstm.html"><span class="badge badge-info">چرا عاشق لینوکس هستم</span></a>
                    <a href="../categories/chr-shq-lynwkhs-hstm.html"><span class="badge badge-info">چرا عاشق لینوکس هستم</span></a>
                    <a href="../categories/gnwlynwkhs.html"><span class="badge badge-info">گنو/لینوکس</span></a>
                    <a href="../categories/skhrypth.html"><span class="badge badge-info">اسکریپت‌ها</span></a>
                    <a href="../categories/std-slm.html"><span class="badge badge-info">ستاد سلام</span></a>
            <span class="entry-tags">
            </span>
        </span></div>
    </div>
        <!-- Disqus comments !-->
	<br>
        <script type="text/javascript">
            var disqus_url = 'http://straygeek.github.io/posts/20130524yh-gygbzy-khwchwlw-dnlwd-dh-t-fyl-p.html';
            var disqus_developer = 1;
        </script>
        <div id="disqus_thread"></div>
        <script type="text/javascript" src="http://disqus.com/forums/nikolademo/embed.js"></script>
        <noscript><a href="http://disqus.com/forums/nikolademo/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
        <!-- End of Disqus comments !-->

            <!--End of body content-->
        </div><!-- .hfeed -->
    </div><!-- #content -->
</div><!-- #container -->

<div id="primary" class="sidebar" dir="ltr">
    <ul>
	<li><h3><a href="../stories/about.html">ABOUT</a></h3></li>
            <li><h3><a href="../archive.html">Archives</a></h3></li>
            <li><h3><a href="../categories/index.html">Tags</a></h3></li>
            <li><h3><a href="../rss.xml">RSS</a></h3></li>

    	<!-- search engine
	<li style="text-align:center">
	<br/>
	<form id="cse-search-box" action="http://google.com/cse">
	<input type="hidden" name="cx" value="016434289486447386752:vexfuidzg2y" />
	<input type="hidden" name="ie" value="UTF-8" />
	<input type="text" name="q" size="31" />
	<br/><input type="submit" name="sa" value="Search" />
	</form>
	<br/>
	<img src="http://www.google.com/cse/images/google_custom_search_smwide.gif">
	</li>
	-->

        <li>
        <!-- social buttons -->
        <li>
            <div class="addthis_toolbox addthis_default_style" style="margin-bottom: 12px;">
            <a class="addthis_button_preferred_1"></a>
            <a class="addthis_button_preferred_2"></a>
            <a class="addthis_button_preferred_3"></a>
            <a class="addthis_button_preferred_4"></a>
            <a class="addthis_button_compact"></a>
            <a class="addthis_counter addthis_bubble_style"></a>
            </div>
            <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
        <!-- End of social buttons -->
        </li><li>
    </li></ul>
</div><!-- #primary .sidebar -->

<div id="footer" dir="ltr">
    <span id="theme-link"><a href="http://www.plaintxt.org/themes/blogtxt/" title="&lt;?php _e('blog.txt theme for WordPress', 'blogtxt' ) ?&gt;" rel="follow designer">blog.txt</a> <?php _e('theme by', 'blogtxt') ?> <span class="vcard"><a class="url fn n" href="http://scottwallick.com/" title="scottwallick.com" rel="follow designer"><span class="given-name">Scott</span><span class="additional-name"> Allan</span><span class="family-name"> Wallick</span></a></span></span>
    <small>Contents © 2013         <a href="mailto:vapaapoika@gmail.com">علیرضا</a> - Powered by         <a href="http://nikola.ralsina.com.ar">Nikola</a></small><p>
</p></div><!-- #footer -->

</div><!-- #wrapper -->
    
<!-- end transmission -->
</body></html>